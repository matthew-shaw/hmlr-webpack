/*! For license information please see hmlr.min.js.LICENSE.txt */
(()=>{"use strict";(()=>{function t(t=document.body){return!!t&&t.classList.contains("govuk-frontend-supported")}function e(t,e){return`${t.moduleName}: ${e}`}class n extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class o extends n{constructor(t=document.body){const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class i extends n{constructor(t){let n="string"==typeof t?t:"";if("object"==typeof t){const{component:o,identifier:i,element:r,expectedType:s}=t;n=i,n+=r?` is not of type ${null!=s?s:"HTMLElement"}`:" not found",n=e(o,n)}super(n),this.name="ElementError"}}class r extends n{constructor(t){super("string"==typeof t?t:e(t,"Root element (`$root`) already initialised")),this.name="InitError"}}function s(e,n,i){let r,s=document;var u;"object"==typeof i&&(s=null!=(u=i.scope)?u:s,r=i.onError),"function"==typeof i&&(r=i),i instanceof HTMLElement&&(s=i);const c=s.querySelectorAll(`[data-module="${e.moduleName}"]`);return t()?Array.from(c).map((t=>{try{return void 0!==n?new e(t,n):new e(t)}catch(o){return r?r(o,{element:t,component:e,config:n}):console.log(o),null}})).filter(Boolean):(r?r(new o,{component:e,config:n}):console.log(new o),[])}class u{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if("string"!=typeof e.moduleName)throw new r("`moduleName` not defined in component");if(!(t instanceof e.elementType))throw new i({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});this._$root=t,e.checkSupport(),this.checkInitialised();const n=e.moduleName;this.$root.setAttribute(`data-${n}-init`,"")}checkInitialised(){const t=this.constructor,e=t.moduleName;if(e&&function(t,e){return t instanceof HTMLElement&&t.hasAttribute(`data-${e}-init`)}(this.$root,e))throw new r(t)}static checkSupport(){if(!t())throw new o}}u.elementType=HTMLElement;class c extends u{constructor(t){super(t),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const e=this.$root.querySelector(".govuk-js-service-navigation-toggle");if(!e)return this;const n=e.getAttribute("aria-controls");if(!n)throw new i({component:c,identifier:'Navigation button (`<button class="govuk-js-service-navigation-toggle">`) attribute (`aria-controls`)'});const o=document.getElementById(n);if(!o)throw new i({component:c,element:o,identifier:`Navigation (\`<ul id="${n}">\`)`});this.$menu=o,this.$menuButton=e,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",(()=>this.handleMenuButtonClick()))}setupResponsiveChecks(){const t=function(){const t="--govuk-frontend-breakpoint-tablet";return{property:t,value:window.getComputedStyle(document.documentElement).getPropertyValue(t)||void 0}}();if(!t.value)throw new i({component:c,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",(()=>this.checkMode())):this.mql.addListener((()=>this.checkMode())),this.checkMode()}checkMode(){this.mql&&this.$menu&&this.$menuButton&&(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}c.moduleName="govuk-service-navigation";class l extends u{constructor(t){var e;super(t);const n=this.$root.hash,o=null!=(e=this.$root.getAttribute("href"))?e:"";let r;try{r=new window.URL(this.$root.href)}catch(t){throw new i(`Skip link: Target link (\`href="${o}"\`) is invalid`)}if(r.origin!==window.location.origin||r.pathname!==window.location.pathname)return;const s=function(t){if(t.includes("#"))return t.split("#").pop()}(n);if(!s)throw new i(`Skip link: Target link (\`href="${o}"\`) has no hash fragment`);const u=document.getElementById(s);if(!u)throw new i({component:l,element:u,identifier:`Target content (\`id="${s}"\`)`});this.$root.addEventListener("click",(()=>function(t,e={}){var n;const o=t.getAttribute("tabindex");function i(){var n;null==(n=e.onBlur)||n.call(t),o||t.removeAttribute("tabindex")}o||t.setAttribute("tabindex","-1"),t.addEventListener("focus",(function(){t.addEventListener("blur",i,{once:!0})}),{once:!0}),null==(n=e.onBeforeFocus)||n.call(t),t.focus()}(u,{onBeforeFocus(){u.classList.add("govuk-skip-link-focused-element")},onBlur(){u.classList.remove("govuk-skip-link-focused-element")}})))}}l.elementType=HTMLAnchorElement,l.moduleName="govuk-skip-link",s(c),s(l)})()})();
//# sourceMappingURL=hmlr.min.js.map